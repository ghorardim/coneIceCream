<template>
  <lightning-card title="Build your own Ice Cream" style="width: 100%">
    <div class="slds-p-horizontal_small slds-var-m">
      <div class="slds-grid slds-gutters">
        <table class="slds-table slds-table_cell-buffer slds-table_bordered">
          <thead>
            <tr class="slds-line-height_reset">
              <th class="" scope="col">
                <div class="slds-truncate" title="SN">#SN</div>
              </th>
              <th class="" scope="col">
                <div class="slds-truncate" title="Scoop Flavor">Flavor</div>
              </th>
              <th class="" scope="col">
                <div class="slds-truncate" title="IceCream Qty">Qty</div>
              </th>
              <th class="" scope="col">
                <div class="slds-truncate" title="Price">Price</div>
              </th>
              <th class="" scope="col">
                <div class="slds-truncate" title="Scoop">Scoop</div>
              </th>
              <th class="" scope="col">
                <div class="slds-truncate" title="...">...</div>
              </th>
            </tr>
          </thead>
          <tbody>
            <template for:each={iceCreamItemList} for:item="con">
              <tr key={con.id}>
                <th scope="col">
                  <div>{con.id}</div>
                </th>
                <th scope="col">
                  <div class="slds-text-title_caps">{con.flavor}</div>
                </th>
                <th scope="col">
                  <div>{con.qty}</div>
                </th>
                <th scope="col">
                  <div>{con.displayPrice}</div>
                </th>
                <th scope="col">
                  <lightning-button
                    variant="brand"
                    title="Add Scoop"
                    icon-name="utility:add"
                    class="slds-m-left_x-small"
                    onclick={handleAdd}
                    data-value={con.flavor}
                    data-flavorindex={con.id}
                  ></lightning-button>
                </th>
                <template if:true={con.qty}>
                  <th scope="col">
                    <lightning-button
                      variant="destructive"
                      title="Remove Scoop"
                      icon-name="utility:dash"
                      class="slds-m-left_x-small"
                      data-value={con.flavor}
                      data-flavorindex={con.id}
                      onclick={handleDelete}
                    ></lightning-button>
                  </th>
                </template>
              </tr>
            </template>
          </tbody>

          <tfoot>
            <tr>
              <th scope="col" colspan="5">
                <div class="slds-text-title_bold">
                  Total Scoop:: { getTotalScoop }
                </div>
                <div class="slds-text-title_bold">
                  Total Price:: {getTotalPrice}
                </div>
              </th>
            </tr>
          </tfoot>
        </table>
      </div>
    </div>
    <lightning-button
      variant="success"
      label="Add to card"
      title="Add to card !!!"
      class="slds-button slds-button_success slds-button_stretch"
    ></lightning-button>
  </lightning-card>
</template>
